# Registry et tags (ex: 165.22.171.147:4443/repertoire)
registry: ""
imageTag: "dev"

# Backend
backend:
  replicas: 1
  image:
    repository: backend
    pullPolicy: Always
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "500m"
  env:
    port: "3001"
    mongodbUri: "mongodb://mongodb-svc:27017/repertoire"

# Frontend
frontend:
  replicas: 1
  image:
    repository: frontend
    pullPolicy: Always
  serviceType: LoadBalancer  # LoadBalancer ou ClusterIP (si Ingress)
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "200m"

# MongoDB
mongodb:
  enabled: true
  replicas: 1
  image:
    repository: mongo
    tag: "7"
  storage:
    size: 1Gi

# Secrets pour registry priv√© (Harbor)
imagePullSecrets:
  - name: registry-credentials

# HPA (Horizontal Pod Autoscaler)
hpa:
  enabled: false
  backend:
    minReplicas: 1
    maxReplicas: 5
    targetCPUUtilization: 70
  frontend:
    minReplicas: 1
    maxReplicas: 5
    targetCPUUtilization: 70

# Ingress (Traefik ou nginx)
ingress:
  enabled: false
  className: traefik
  host: repertoire.example.com
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
