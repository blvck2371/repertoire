# Filebeat â€“ DaemonSet, collecte les logs de tous les pods
resources:
  requests:
    cpu: "25m"
    memory: "64Mi"
  limits:
    cpu: "100m"
    memory: "128Mi"

filebeatConfig:
  filebeat.yml: |
    filebeat.inputs:
      - type: container
        paths:
          - /var/log/containers/*.log
        processors:
          - add_kubernetes_metadata:
              host: ${NODE_NAME}
              matchers:
                - logs_path:
                    logs_path: "/var/log/containers/"
    output.elasticsearch:
      host: '${NODE_NAME}'
      hosts: '["http://elasticsearch-master:9200"]'
    setup.kibana:
      host: "http://kibana-kibana:5601"
    setup.dashboards.enabled: true
    setup.ilm.enabled: false
